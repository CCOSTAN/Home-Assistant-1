#############################
#An alarm clock feature that#
#flashes living room lights #
#############################

input_slider:
  all_alarm_clock_hour:
    name: Hour
    icon: mdi:timer
    initial: 6
    min: 0
    max: 23
    step: 1
  all_alarm_clock_minute:
    name: Minute
    icon: mdi:timer
    initial: 15
    min: 0
    max: 55
    step: 5

input_boolean:
  all_alarm_clock_repeat:
    name: Repeat?
    icon: mdi:autorenew
    initial: off

group:
  all_alarm_clock:
    control: hidden
    name: 'MASTER Alarm Clock - TESTING!'
    entities:
      - input_slider.all_alarm_clock_hour
      - input_slider.all_alarm_clock_minute
      - input_boolean.all_alarm_clock_repeat
      - script.all_sync

script:
  all_sync:
    alias: Sync All Alarms
    sequence:
      - service: input_slider.select_value
        data: 
          entity_id:
            - input_slider.living_alarm_clock_hour
            - input_slider.boys_alarm_clock_hour
            - input_slider.masterbed_alarm_clock_hour
            #What should the value be????
          value: input_slider.all_alarm_clock_hour
      - service: input_slider.select_value
        data: 
          entity_id:
            - input_slider.living_alarm_clock_minute
            - input_slider.boys_alarm_clock_minute
            - input_slider.masterbed_alarm_clock_minute
            #What should the value be????
          value: input_slider.all_alarm_clock_minute 
      - service: input_boolean.turn_on
        data: 
          entity_id:
            - input_boolean.living_alarm_clock_status
            - input_boolean.boys_alarm_clock_status
            - input_boolean.masterbed_alarm_clock_status
##Need a service here to carry over the value of the repeat boolean too??
      - service: input_boolean.turn_off
        data:
          entity_id: input_boolean.all_alarm_clock_repeat